<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Projects | Lucas Maria</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Projects</h1>
    <nav>
      <a href="index.html">About</a>
      <a href="projects.html">Projects</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>My GitHub</h2>
      <div id="my-github">
        <p>Loading repositories...</p>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Lucas Maria</p>
  </footer>

  <script>
    const username = 'lucasdasilvamaria';
    const container = document.getElementById('my-github');

    fetch(`https://api.github.com/users/${username}/repos?sort=updated&per_page=100`)
      .then(response => response.json())
      .then(repos => {
        if (!repos || repos.length === 0) {
          container.innerHTML = '<p>No public repositories found.</p>';
          return;
        }

        container.innerHTML = ''; // limpa o loading

        repos.forEach(repo => {
          // cria div com a mesma classe dos projetos originais
          const projectDiv = document.createElement('div');
          projectDiv.className = 'project';

          // título do projeto
          const title = document.createElement('h3');
          title.textContent = repo.name;

          // descrição
          const desc = document.createElement('p');
          desc.textContent = repo.description || 'No description';

          // link para o GitHub
          const link = document.createElement('a');
          link.href = repo.html_url;
          link.target = '_blank';
          link.textContent = 'View on GitHub';

          projectDiv.appendChild(title);
          projectDiv.appendChild(desc);
          projectDiv.appendChild(link);

          container.appendChild(projectDiv);
        });
      })
      .catch(err => {
        container.innerHTML = `<p>Error fetching repositories: ${err}</p>`;
      });
  </script>
</body>
</html>
